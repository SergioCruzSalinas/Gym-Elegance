import{u as y}from"./useQuery-Vqq1gs7x.js";import"./get-subscribe.action-dCyK_osv.js";import{G as k,O as _,p as c,q as V,r as h,o as r,c as u,w as i,a as s,k as v,i as g,e as b,g as x,t as E}from"./index-Cd84-U9l.js";import{d as w,V as B}from"./VCard-BvtkY7a6.js";import{V as C}from"./VTextField-D2KA8hUD.js";import{V as D}from"./VDataTable-C6x46AXe.js";import"./useQueryClient-BEXFoOYI.js";import"./VSelect-CcSXOGUU.js";const F=async()=>{try{const{data:e}=await k.get("inscripciones");return e}catch(e){if(_(e))return{ok:!1};throw new Error("No se pudo cargar las inscripciones")}},I={key:0},K={__name:"VerInscripciones",setup(e){const o=c(""),d=c([{key:"id",title:"ID"},{key:"id_usuario",title:"Usuario"},{key:"id_membresia",title:"Membresía"},{key:"fecha_inicio",title:"Fecha Inicio"},{key:"fecha_expiracion",title:"Fecha Expiración"},{key:"estatus",title:"Estatus"}]),{data:n,isLoading:p,error:l}=y({queryKey:["subscriptions"],queryFn:F}),m=V(()=>n.value?n.value.data:[]);return l.value&&console.error("Error fetching subscriptions:",l.value),(N,a)=>{const f=h("RouterLink");return r(),u(B,{title:"Inscripciones",flat:""},{default:i(()=>[s(w,null,{default:i(()=>[s(C,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=t=>o.value=t),label:"Buscar","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])]),_:1}),v(p)?(r(),g("div",I,a[1]||(a[1]=[b("h1",null,"Cargando información...",-1)]))):(r(),u(D,{key:1,headers:d.value,items:m.value},{"item.id":i(({item:t})=>[s(f,{class:"link",to:`/admin/inscripciones/lista/${t.id}`},{default:i(()=>[x(E(t.id),1)]),_:2},1032,["to"])]),_:1},8,["headers","items"]))]),_:1})}}};export{K as default};
