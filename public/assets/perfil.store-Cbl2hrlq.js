import{u as l,G as u,O as c,P as i,p as d}from"./index-Cd84-U9l.js";const f=l(),p=async()=>{var r;try{const{data:o}=await u.get(`/usuarios/${(r=f.user)==null?void 0:r.id}`);return{ok:!0,userInfo:o.data}}catch(o){if(c(o))return{ok:!1,message:"Ocurrio un error"};throw console.log(o),new Error("No se pudo realizar la peticion")}},g=l(),m=async(r,o,s)=>{var e;try{const{data:a}=await u.patch(`usuarios/editar/${(e=g.user)==null?void 0:e.id}`,{nombreUsuario:r,correoElectronico:o,telefono:s});return{data:a}}catch(a){throw c(a)&&console.log(a),new Error("No se pudo actualizar los datos")}},k=i("perfil",()=>{const r=d();return{userInfo:r,loadUserProfile:async()=>{try{const e=await p();return e.ok?(r.value=e.userInfo,{ok:!0,userInfo:r}):{ok:!1,message:"Error al cargar los datos del perfil."}}catch(e){return console.error("Error al cargar el perfil:",e),{ok:!1,message:"Error al cargar el perfil."}}},updatedUser:async(e,a,n)=>{try{const t=await m(e,a,n);return t?(r.value&&(r.value.nombre=t.data.nombreUsuario,r.value.correo_electronico=t.data.correoElectronico,r.value.telefono=t.data.telefono),{ok:!0,message:"Datos actualizados correctamente."}):{ok:!1,message:"Error al actualizar los datos del usuario."}}catch(t){return console.error("Error al actualizar el perfil:",t),{ok:!1,message:"No se pudo actualizar los datos del perfil."}}}}});export{k as u};
