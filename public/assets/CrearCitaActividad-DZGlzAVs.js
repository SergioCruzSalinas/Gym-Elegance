import{G as w,O as b,P as m,p as l,_ as k,u as C,z as S,o as u,c as _,w as s,a as n,b as p,e as c,i as j,t as F,j as N,g as B,l as E,s as z,V as G,v as R,x as U}from"./index-D8apdIrF.js";import{g as h}from"./get-activitys.action-DJryB5rW.js";import"./get-gymAppointment.action-CMEinqVm.js";import{V as q}from"./VCard-BzsTKAXT.js";import{V as M}from"./VSelect-_cOowk88.js";import"./VTextField-gAq9Whng.js";const O=async(r,a)=>{try{const{data:t}=await w.post("agenda-actividades/crear-cita",{idUsuario:r,idActividad:a});return{ok:!0,data:t}}catch(t){if(b(t))return{ok:!1,message:"Ocurrio un error al crear la cita de la actividad"};throw console.log("Error desde la accion",t),new Error("No se pudo realizar la peticion")}},D=m("activities",()=>{const r=l();return{activities:r,getActivities:async()=>{try{const t=await h();return t?(r.value=t==null?void 0:t.data,{activities:r}):!1}catch(t){console.log(t)}}}}),I=m("gymAppointment",()=>({registerActivityAppointment:async(a,t)=>{try{return!!(await O(a,t)).ok}catch(o){return console.log(o),!1}}})),P={key:0,class:"mensaje text-center"},T={__name:"CrearCitaActividad",setup(r){const a=l(""),t=l(""),o=l([]),v=D(),f=I(),A=C(),y=U(),g=A.user.id,V=async()=>{try{const i=await v.getActivities();if(i)return o.value=i.activities.value.map(e=>e.id),{activities:o}}catch(i){console.log(i)}},x=async()=>{const i=t.value.toString();if(console.log(typeof i),await f.registerActivityAppointment(g,i))return y.replace({name:"listaActividadesUsuario"});a.value="No se pudo crear la cita"};return S(()=>{V()}),(i,e)=>(u(),_(R,{fluid:"",class:"login-container"},{default:s(()=>[n(G,null,{default:s(()=>[n(p,{cols:"12",md:"12",class:"d-flex justify-center md:justify-center"},{default:s(()=>e[1]||(e[1]=[c("h1",null,"Crear cita para nueva actividad",-1)])),_:1}),n(p,{cols:"12",md:"12",class:"d-flex justify-center md:justify-center"},{default:s(()=>[n(q,{class:"pa-6 pa-md-12 pb-8 mr-md-32",style:{"background-color":"black",opacity:"0.8","margin-top":"20px"},elevation:"8",rounded:"lg",width:"500","max-width":"800px"},{default:s(()=>[a.value?(u(),j("div",P,F(a.value),1)):N("",!0),e[4]||(e[4]=B()),e[5]||(e[5]=c("br",null,null,-1)),c("form",{onSubmit:z(x,["prevent"])},[e[3]||(e[3]=c("div",{class:"texto"},"Folio de la actividad",-1)),n(M,{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=d=>t.value=d),items:o.value,rules:[d=>!!d||"El folio es requerido"],label:"folio actividad",color:"#FFFFFF",required:""},null,8,["modelValue","items","rules"]),n(E,{type:"submit",class:"mb-8",color:"black",size:"large",variant:"tonal",block:""},{default:s(()=>e[2]||(e[2]=[c("div",{class:"texto"},"Agregar actividad",-1)])),_:1})],32)]),_:1})]),_:1})]),_:1})]),_:1}))}},X=k(T,[["__scopeId","data-v-a39bd294"]]);export{X as default};
